{"version":3,"sources":["sofa.svg","trustroots-tree.svg","About.js","Intro.js","AboutMe.js","Friends.js","Images.js","Raw.js","Profile.js","App.js","constants.js","index.js","components.js","utils.js"],"names":["module","exports","About","forwardRef","ref","isDragActive","input","aboutRef","className","id","href","role","aria-hidden","stopUploadsFromTriggering","event","stopPropagation","Intro","src","sofa","alt","onClick","preventDefault","scrollToRef","AboutMe","user","interests","profile","about_me","dangerouslySetInnerHTML","__html","marked","map","interest","key","name","media","teach","amazing_thing","surf_reason","offer_hosts","friends","names","length","friend","parseInt","replace","Images","images","blobUrl","download","Raw","json","data","Messages","lazy","References","Profile","fileDate","user_data","references","messages","routes","route","label","count","written_references","received_references","formatDate","window","sessionStorage","clear","error","Sentry","console","first_name","last_name","username","occupation","exact","path","fallback","userId","Friends","target","rel","TrustrootsTree","getJsonFromZip","zip","a","files","filter","relativePath","zipEntry","dir","split","pop","file","async","jsonString","JSON","parse","getImagesFromZip","includes","imageProcessor","blob","urlCreator","URL","webkitURL","createObjectURL","Promise","all","extractZip","jszip","loadAsync","getNamesFromJson","Map","collectName","visit","person","surfer","host","displayName","display_name","set","couch_visits","host_couch_visits","forEach","surfer_couch_visits","setCacheValue","value","setItem","readBlobFile","text","resolve","reject","fr","FileReader","onload","result","readAsText","App","isStorageAvailable","testStorage","cachedFileDate","cachedNames","cachedProfile","cachedProfileImages","getItem","loadFromCache","useState","setProfile","profileImages","setProfileImages","setNames","setFileDate","isProcessing","setIsProcessing","createRef","useEffect","stringify","onDrop","useCallback","acceptedFiles","alert","type","lastModifiedDate","toString","jsonProfile","useDropzone","getRootProps","getInputProps","classnames","dsn","ReactDOM","render","StrictMode","document","getElementById","Section","children","Heading","Content","props","Loading","CsProfileLink","CsProfileName","append","get","Anchor","title","Tabs","activeClassName","to","date","dateString","formattedDate","Date","toLocaleDateString","undefined","year","month","day","current","scrollIntoView","behavior","storage","x","removeItem","e","DOMException","code"],"mappings":"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","file":"static/js/main.0652c969.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sofa.ba454e2c.svg\";","module.exports = __webpack_public_path__ + \"static/media/trustroots-tree.19b96bca.svg\";","import React, { forwardRef } from 'react';\n\nimport { Anchor } from './components';\nimport './About.css';\n\nconst About = forwardRef(({ isDragActive, input, aboutRef }, ref) => {\n  return (\n    <div className=\"App-landing-section About\" id=\"about\" ref={ref}>\n      <h1>About</h1>\n\n      <div className=\"About-FAQ\">\n        <h3>\n          Why CouchSpinner exists? <Anchor id=\"why-couchspinner-exists\" />\n        </h3>\n        <p>\n          CouchSurfing locked out a significant portion of their community by{' '}\n          <a href=\"https://blog.couchsurfing.com/couchsurfing-needs-your-help/\">\n            turning into a paid site overnight\n          </a>{' '}\n          on May 14, 2020.\n        </p>\n        <p>\n          You can recover your data from CouchSurfing, but what can you do with\n          it then?\n        </p>\n        <p>\n          With CouchSpinner, you can preview your profile, references, and\n          messages again!\n        </p>\n\n        <h3>\n          How can I export my CouchSurfing profile?{' '}\n          <Anchor id=\"how-can-i-export-my-couchsurfing-profile\" />\n        </h3>\n        <p>\n          If you can still access your profile,{' '}\n          <a href=\"https://support.couchsurfing.org/hc/en-us/articles/360045738353-Download-your-data\">\n            follow these instructions to download your data\n          </a>\n          .\n        </p>\n        <p>\n          If you cannot access your profile, you can ask for a copy of your data\n          and to delete your account by contacting Couchsurfing Support at{' '}\n          <a href=\"mailto:support@couchsurfing.com\">support@couchsurfing.com</a>{' '}\n          or through{' '}\n          <a href=\"mailto:privacy@couchsurfing.com\">privacy@couchsurfing.com</a>\n          .\n        </p>\n\n        <h3>\n          Do you store my CouchSurfing profile?{' '}\n          <Anchor id=\"do-you-store-my-couchsurfing-profile\" />\n        </h3>\n        <p>\n          Nope. Your profile is never uploaded to us — we never see it.\n          Everything happens in your browser only. This is completely secure.\n        </p>\n\n        <h3>\n          Who made this? <Anchor id=\"who-made-this\" />\n        </h3>\n        <p>\n          Folks behind{' '}\n          <a href=\"https://www.trustroots.org/?ref=couchspinner\">\n            Trustroots.org\n          </a>\n          , a free and community ran hospitality exchange site alternative to\n          CouchSurfing.\n        </p>\n        <p>\n          We built the functionality anyway for Trustroots and wanted to give it\n          away for everyone.\n        </p>\n        <p>\n          We'd love it if you would also join Trustroots, of course!{' '}\n          <span role=\"img\" aria-hidden>\n            🙂\n          </span>\n        </p>\n\n        <h3>\n          It didn't work! <Anchor id=\"it-did-not-work\" />\n        </h3>\n        <p>\n          Oh no!{' '}\n          <a href=\"https://couchspinner.wordpress.com/\">Please get in touch</a>{' '}\n          with Mikael to see if we can help.\n        </p>\n\n        <h3>\n          What are other alternatives to CouchSurfing?{' '}\n          <Anchor id=\"couchsurfing-alternatives\" />\n        </h3>\n        <p>\n          You could check{' '}\n          <a href=\"https://www.trustroots.org/?ref=couchspinner\">Trustroots</a>,{' '}\n          <a href=\"https://www.bewelcome.org/\">BeWelcome</a>,{' '}\n          <a href=\"https://www.warmshowers.org/\">Warmshowers</a> and{' '}\n          <a href=\"https://hackercouch.com/\">Hackercouch</a>.\n        </p>\n\n        <h3>I see only some names, but not everyone?</h3>\n        <p>\n          Most of the Couchsurfing export doesn't contain names of other\n          profiles, only user IDs. There are a few names available from \"couch\n          requests\", which then we can show elsewhere too.\n        </p>\n\n        <h3>\n          Not all my data is here! <Anchor id=\"not-all-my-data-is-here\" />\n        </h3>\n        <p>\n          Could be! Please check the \"raw\" tab of your profile to browser what\n          the file actually contains and what we are showing.\n        </p>\n        <p>\n          The preview doesn't show everything, but also the file from\n          CouchSurfing could be only partial. They've elaborated that{' '}\n          <a href=\"https://www.facebook.com/groups/253525915764545/?post_id=274543140329489&comment_id=274552816995188&reply_comment_id=274560876994382\">\n            some of the very old data might've been lost\n          </a>\n          . You should reach out to CouchSurfing for any specifics, though.\n        </p>\n\n        <h3>\n          Is this open-source? <Anchor id=\"is-this-open-source\" />\n        </h3>\n        <p>\n          <a href=\"https://github.com/simison/couchspinner\">Yep!</a> Feel free\n          to help out.\n        </p>\n      </div>\n    </div>\n  );\n});\n\nexport default About;\n","import React from 'react';\n\nimport './Intro.scss';\nimport { scrollToRef } from './utils';\nimport sofa from './sofa.svg';\n\nconst stopUploadsFromTriggering = event => {\n  event.stopPropagation();\n};\n\nfunction Intro({ aboutRef }) {\n  return (\n    <div className=\"App-landing-section Intro\">\n      <h1>CouchSpinner</h1>\n      <h2>Preview Couchsurfing profile export files</h2>\n      {/* https://www.flaticon.com/free-icon/sofa_2965901?term=sofa&page=1&position=39 */}\n      <img src={sofa} className=\"Intro-logo\" alt=\"logo\" />\n      <button className=\"Intro-instructions\">\n        Drop the file here,\n        <br />\n        or click to select it.\n      </button>\n      <p>\n        <a\n          href=\"#about\"\n          onClick={event => {\n            stopUploadsFromTriggering(event);\n            event.preventDefault();\n            scrollToRef(aboutRef);\n          }}\n        >\n          Read more\n        </a>\n        <br />\n        <br />\n        <a\n          className=\"Intro-by-link\"\n          onClick={stopUploadsFromTriggering}\n          href=\"https://www.trustroots.org/?ref=couchspinner\"\n        >\n          By Trustroots\n        </a>\n      </p>\n    </div>\n  );\n}\n\nexport default Intro;\n","import marked from 'marked';\nimport React from 'react';\n\nimport { Section, Heading, Content } from './components';\nimport './AboutMe.scss';\n\nfunction AboutMe({ user, interests }) {\n  return (\n    <Section>\n      <Heading>About me</Heading>\n      <Content>\n        {user?.profile?.about_me && (\n          <span\n            dangerouslySetInnerHTML={{ __html: marked(user.profile.about_me) }}\n          />\n        )}\n        {user?.profile?.about_me && (\n          <span\n            dangerouslySetInnerHTML={{ __html: marked(user.profile.about_me) }}\n          />\n        )}\n        {user?.profile?.interests && (\n          <>\n            <p>\n              <strong>More about my interests</strong>\n            </p>\n            <span\n              dangerouslySetInnerHTML={{\n                __html: marked(user.profile.interests),\n              }}\n            />\n            {interests?.interests && (\n              <ul className=\"AboutMe-interests\">\n                {interests.interests.map(interest => (\n                  <li key={interest.name}>{interest.name}</li>\n                ))}\n              </ul>\n            )}\n          </>\n        )}\n        {user?.profile?.media && (\n          <>\n            <p>\n              <strong>My Favorite Music, Movies & Books</strong>\n            </p>\n            <span\n              dangerouslySetInnerHTML={{ __html: marked(user.profile.media) }}\n            />\n          </>\n        )}\n        {user?.profile?.teach && (\n          <>\n            <p>\n              <strong>Teach, Learn, Share</strong>\n            </p>\n            <span\n              dangerouslySetInnerHTML={{ __html: marked(user.profile.teach) }}\n            />\n          </>\n        )}\n        {user?.profile?.amazing_thing && (\n          <>\n            <p>\n              <strong>One Amazing Thing I've Done</strong>\n            </p>\n            <span\n              dangerouslySetInnerHTML={{\n                __html: marked(user.profile.amazing_thing),\n              }}\n            />\n          </>\n        )}\n        {user?.profile?.surf_reason && (\n          <>\n            <p>\n              <strong>Why I'm on Couchsurfing</strong>\n            </p>\n            <span\n              dangerouslySetInnerHTML={{\n                __html: marked(user.profile.surf_reason),\n              }}\n            />\n          </>\n        )}\n        {user?.profile?.offer_hosts && (\n          <>\n            <p>\n              <strong>What I Can Share With Hosts</strong>\n            </p>\n            <span\n              dangerouslySetInnerHTML={{\n                __html: marked(user.profile.offer_hosts),\n              }}\n            />\n          </>\n        )}\n      </Content>\n    </Section>\n  );\n}\n\nexport default AboutMe;\n","import React from 'react';\n\nimport { Section, Heading, Content, CsProfileName } from './components';\n\nfunction AboutMe({ friends, names }) {\n  return (\n    <Section>\n      <Heading>Friends</Heading>\n      <Content>\n        {friends.length ? (\n          <ul>\n            {friends.map(friend => {\n              const id = parseInt(\n                friend.profile.replace(\n                  'https://www.couchsurfing.com/users/',\n                  '',\n                ),\n                10,\n              );\n              return (\n                <li key={id}>\n                  <CsProfileName\n                    names={names}\n                    id={id}\n                    alt={friend.profile.replace('https://www.', '')}\n                  />\n                </li>\n              );\n            })}\n          </ul>\n        ) : (\n          'No friends. :-('\n        )}\n      </Content>\n    </Section>\n  );\n}\n\nexport default AboutMe;\n","import React from 'react';\n\nimport { Content, Section, Heading } from './components';\nimport './Images.css';\n\nfunction Images({ images }) {\n  return (\n    <Section>\n      <Heading>Images</Heading>\n      <Content>\n        {images.length ? (\n          images.map(({ id, blobUrl }) => (\n            <p key={id}>\n              <a href={blobUrl} download={id}>\n                <img src={blobUrl} alt=\"\" className=\"Image\" />\n              </a>\n            </p>\n          ))\n        ) : (\n          <p>You had no images... :-(</p>\n        )}\n      </Content>\n    </Section>\n  );\n}\n\nexport default Images;\n","import React from 'react';\nimport JsonTree from 'react-json-tree';\n\nimport { Section, Heading } from './components';\n\nfunction Raw({ json }) {\n  return (\n    <Section>\n      <Heading>Raw profile export</Heading>\n      <JsonTree data={json} />\n    </Section>\n  );\n}\n\nexport default Raw;\n","import { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport * as Sentry from '@sentry/browser';\nimport React, { Suspense, lazy } from 'react';\n\nimport './Profile.scss';\nimport { formatDate } from './utils';\nimport { Section, CsProfileLink, Tabs, Loading } from './components';\nimport AboutMe from './AboutMe';\nimport Friends from './Friends';\nimport Images from './Images';\nimport Raw from './Raw';\nimport TrustrootsTree from './trustroots-tree.svg';\n\n// Slow rendering elements\nconst Messages = lazy(() => import('./Messages'));\nconst References = lazy(() => import('./References'));\n\nfunction Profile({ fileDate, images, names, profile }) {\n  const { user_data: user, interests, references, friends, messages } = profile;\n\n  const referencesCount =\n    (references?.written_references?.length ?? 0) +\n    (references?.received_references?.length ?? 0);\n  const friendsCount = friends?.friends?.length ?? 0;\n  const messagesCount = messages?.messages?.length ?? 0;\n  const imagesCount = images?.length ?? 0;\n  const routes = [\n    { route: '/', label: 'About me' },\n    { route: '/references', label: 'References', count: referencesCount },\n    { route: '/friends', label: 'Friends', count: friendsCount },\n    { route: '/messages', label: 'Messages', count: messagesCount },\n    { route: '/images', label: 'Images', count: imagesCount },\n    { route: '/raw', label: 'Raw' },\n  ];\n\n  const clearSessionStorage = () => {\n    try {\n      window.sessionStorage.clear();\n    } catch (error) {\n      Sentry.captureException(error);\n      console.error(error);\n    }\n  };\n\n  return (\n    <Router>\n      <div className=\"Profile\">\n        <div className=\"Profile-header\">\n          <p>\n            <em>\n              <CsProfileLink id={user?.id}>\n                Your Couchsurfing.com profile\n              </CsProfileLink>\n              {fileDate && ` as of ${formatDate(fileDate)}`}\n            </em>\n            <a href=\"/\" className=\"Profile-clear\" onClick={clearSessionStorage}>\n              Clear out the profile\n            </a>\n          </p>\n          <h1>\n            {user?.profile?.first_name && `${user.profile.first_name} `}\n            {user?.profile?.last_name && `${user.profile.last_name} `}\n            {user?.username && `(${user.username})`}\n          </h1>\n          {user?.profile?.occupation && <h3>{user.profile.occupation}</h3>}\n        </div>\n\n        <Section>\n          <Tabs routes={routes} />\n        </Section>\n\n        <Switch>\n          <Route exact path=\"/\">\n            <AboutMe user={user} interests={interests} />\n          </Route>\n          <Route path=\"/references\">\n            <Suspense fallback={<Loading>References</Loading>}>\n              <References\n                names={names}\n                references={references}\n                userId={user?.id}\n              />\n            </Suspense>\n          </Route>\n          <Route path=\"/friends\">\n            <Friends names={names} friends={friends?.friends || []} />\n          </Route>\n          <Route path=\"/messages\">\n            <Suspense fallback={<Loading>Messages</Loading>}>\n              <Messages\n                messages={messages?.messages || []}\n                names={names}\n                userId={user?.id}\n              />\n            </Suspense>\n          </Route>\n          <Route path=\"/images\">\n            <Images images={images} />\n          </Route>\n          <Route path=\"/raw\">\n            <Raw json={profile} />\n          </Route>\n        </Switch>\n\n        <div className=\"promo\">\n          <a\n            href=\"https://www.trustroots.org/?ref=couchspinner\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <img src={TrustrootsTree} className=\"tr-logo\" alt=\"Trustroots\" />\n            <br />\n            Join Trustroots.org\n            <br />\n            Travellers hospitality community.\n          </a>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default Profile;\n","import { useDropzone } from 'react-dropzone';\nimport * as Sentry from '@sentry/browser';\nimport classnames from 'classnames';\nimport jszip from 'jszip';\nimport React, { useCallback, useState, useEffect, createRef } from 'react';\n\nimport './App.scss';\nimport About from './About';\nimport Intro from './Intro';\nimport Profile from './Profile';\nimport { testStorage } from './utils';\nimport { STORAGE_PREFIX } from './constants';\n// import example from './example-profile.json';\nconst EXAMPLE_PROFILE = '';\n\nasync function getJsonFromZip(zip) {\n  const files = zip.filter((relativePath, zipEntry) => {\n    return !zipEntry.dir && zipEntry.name.split('.').pop() === 'json';\n  });\n\n  if (!files.length) {\n    return false;\n  }\n\n  const jsonString = await zip.file(files[0].name).async('string');\n\n  try {\n    const json = JSON.parse(jsonString);\n    return json;\n  } catch (error) {\n    Sentry.captureException(error);\n    return false;\n  }\n}\n\nasync function getImagesFromZip(zip) {\n  const files = zip.filter((relativePath, zipEntry) => {\n    return (\n      !zipEntry.dir &&\n      ['jpg', 'gif', 'png'].includes(zipEntry.name.split('.').pop())\n    );\n  });\n\n  const imageProcessor = files.map(async file => {\n    const blob = await zip.file(file.name).async('blob');\n    const urlCreator = window.URL || window.webkitURL;\n    const blobUrl = urlCreator.createObjectURL(blob);\n\n    return {\n      blobUrl,\n      id: file.name,\n    };\n  });\n\n  const images = await Promise.all(imageProcessor);\n\n  return images;\n}\n\nasync function extractZip(file) {\n  const zip = await jszip.loadAsync(file);\n  const json = await getJsonFromZip(zip);\n  const images = await getImagesFromZip(zip);\n\n  return {\n    images,\n    json,\n  };\n}\n\nfunction getNamesFromJson(json) {\n  const names = new Map();\n\n  const collectName = visit => {\n    const person = visit?.surfer || visit?.host || {};\n    const username = person?.username;\n    const id = person?.profile?.id;\n    const displayName = person?.profile?.display_name;\n    names.set(id, { displayName, username });\n  };\n\n  if (json?.couch_visits?.host_couch_visits) {\n    json.couch_visits.host_couch_visits.forEach(collectName);\n  }\n\n  if (json?.couch_visits?.surfer_couch_visits) {\n    json.couch_visits.surfer_couch_visits.forEach(collectName);\n  }\n\n  return names;\n}\n\nfunction setCacheValue(key, value) {\n  try {\n    window.sessionStorage.setItem(`${STORAGE_PREFIX}_${key}`, value);\n  } catch (error) {\n    Sentry.captureException(error);\n    console.error(`Saving ${key} in cache failed:`, error);\n  }\n}\n\n/**\n * Read file from Blob or File entry\n * @param  {[File|Blob]}\n * @return {[String]} Text contents of the File\n */\nfunction readBlobFile(file) {\n  // Browser supports Blob.text(), all good!\n  // https://developer.mozilla.org/en-US/docs/Web/API/Blob/text\n  if (typeof file.text === 'function') {\n    return file.text();\n  }\n\n  // Namely Safari needs this\n  // https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsText\n  // https://stackoverflow.com/a/46568146\n  return new Promise((resolve, reject) => {\n    var fr = new FileReader();\n    fr.onload = () => {\n      resolve(fr.result);\n    };\n    fr.readAsText(file);\n  });\n}\n\n/**\n * Load previously cached items\n * @return {[Object]}\n */\nfunction loadFromCache() {\n  let cachedFileDate;\n  let cachedNames;\n  let cachedProfile;\n  let cachedProfileImages;\n  try {\n    cachedFileDate = window.sessionStorage.getItem(\n      `${STORAGE_PREFIX}_file_date`,\n    );\n    cachedProfile = JSON.parse(\n      window.sessionStorage.getItem(`${STORAGE_PREFIX}_profile`),\n    );\n    cachedProfileImages = JSON.parse(\n      window.sessionStorage.getItem(`${STORAGE_PREFIX}_profile_images`),\n    );\n\n    if (cachedProfile) {\n      cachedNames = getNamesFromJson(cachedProfile);\n    }\n  } catch (error) {\n    Sentry.captureException(error);\n    console.error(error);\n  }\n\n  return {\n    cachedFileDate,\n    cachedNames,\n    cachedProfile,\n    cachedProfileImages,\n  };\n}\n\nfunction App() {\n  const isStorageAvailable = testStorage('sessionStorage');\n\n  const {\n    cachedFileDate,\n    cachedNames,\n    cachedProfile,\n    cachedProfileImages,\n  } = isStorageAvailable ? loadFromCache() : {};\n\n  const [profile, setProfile] = useState(cachedProfile || EXAMPLE_PROFILE);\n  const [profileImages, setProfileImages] = useState(cachedProfileImages || []);\n  const [names, setNames] = useState(cachedNames || new Map());\n  const [fileDate, setFileDate] = useState(cachedFileDate || '');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const ref = createRef();\n\n  // Store for the browser session — gets cleared out when closing tab but not on page refresh\n  useEffect(() => {\n    if (isStorageAvailable) {\n      setCacheValue('file_date', fileDate);\n      setCacheValue('profile_images', JSON.stringify(profileImages));\n      setCacheValue('profile', JSON.stringify(profile));\n    }\n  }, [isStorageAvailable, profile, profileImages, fileDate]);\n\n  // On uploading file(s)\n  const onDrop = useCallback(async acceptedFiles => {\n    setIsProcessing(true);\n\n    if (!acceptedFiles || acceptedFiles.length === 0) {\n      setIsProcessing(false);\n      return alert('No files? 😥');\n    }\n\n    if (acceptedFiles.length !== 1) {\n      setIsProcessing(false);\n      return alert('Just one file please.');\n    }\n\n    const file = acceptedFiles[0];\n\n    if (!['application/zip', 'application/json'].includes(file.type)) {\n      setIsProcessing(false);\n      return alert(\n        'Please drop either the zip file or json file.\\n\\nE.g. \"couchsurfing-export-123456-202005200751.zip\", or \"123456-202005200751.json\"',\n      );\n    }\n\n    if (file.lastModifiedDate) {\n      setFileDate(file.lastModifiedDate.toString());\n    }\n\n    if (file.type === 'application/zip') {\n      const { json, images } = await extractZip(file);\n      if (!json) {\n        setIsProcessing(false);\n        return alert(\n          'Please drop a zip file which contains the profile json file.\\n\\nE.g. \"couchsurfing-export-123456-202005200751.zip\", or \"123456-202005200751.json\"',\n        );\n      }\n\n      const names = getNamesFromJson(json);\n      setProfile(json);\n      setNames(names);\n      setProfileImages(images);\n    } else if (file.type === 'application/json') {\n      const jsonProfile = await readBlobFile(file);\n\n      try {\n        const json = JSON.parse(jsonProfile);\n        const names = getNamesFromJson(json);\n        setProfile(json);\n        setNames(names);\n      } catch (error) {\n        Sentry.captureException(error);\n        console.error(error);\n        alert(\n          'File is little too funky for us to understand...  😥\\n\\nMake sure you uploaded correct export file (it should be .json or .zip file).\\n\\nIf problem persists, feel free to get in touch with Mikael (https://mikaelkorpela.fi/#contact).',\n        );\n      }\n    }\n\n    setIsProcessing(false);\n  }, []);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\n\n  return (\n    <div className={classnames('App', { 'is-processing': isProcessing })}>\n      {profile ? (\n        <Profile\n          fileDate={fileDate}\n          images={profileImages}\n          names={names}\n          profile={profile}\n        />\n      ) : (\n        <>\n          <div\n            className={classnames('drop-container', {\n              'is-dropping': isDragActive,\n            })}\n            {...getRootProps()}\n          >\n            <input {...getInputProps()} />\n            <Intro aboutRef={ref} />\n          </div>\n          <About ref={ref} />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","export const STORAGE_PREFIX = 'couchspinner';\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as Sentry from '@sentry/browser';\n\nimport './index.scss';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\n// JavaScript error logging\nSentry.init({\n  dsn:\n    'https://dace55ddccfc480083c04f2a876322a3@o356100.ingest.sentry.io/5288459',\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport './components.scss';\n\nexport function Section({ children }) {\n  return <div className=\"Section\">{children}</div>;\n}\n\nexport function Heading({ children }) {\n  return <div className=\"Section-heading\">{children}</div>;\n}\n\nexport function Content(props) {\n  return (\n    <div className=\"Section-content\" {...props}>\n      {props.children}\n    </div>\n  );\n}\n\nexport function Loading({ children }) {\n  return (\n    <Section>\n      <Heading>{children || <span className=\"placeholder\"></span>}</Heading>\n      <Content>\n        <span className=\"placeholder\"></span>\n        <br />\n        <span className=\"placeholder\"></span>\n        <br />\n        <span className=\"placeholder\"></span>\n      </Content>\n    </Section>\n  );\n}\n\nexport function CsProfileLink(props) {\n  const label = props.children || 'Member';\n  return !!props.id ? (\n    <a {...props} href={`https://www.couchsurfing.com/users/${props.id}`}>\n      {props.id === props.userId ? 'You' : label}\n    </a>\n  ) : (\n    <span {...props}>{label}</span>\n  );\n}\n\nexport function CsProfileName(props) {\n  const { id, names, alt, append } = props;\n  const displayName = names ? names.get(id)?.displayName : false;\n\n  return (\n    <>\n      <CsProfileLink id={id} {...props}>\n        {displayName || alt}\n      </CsProfileLink>\n      {displayName && append}\n    </>\n  );\n}\n\nexport function Anchor({ id }) {\n  return (\n    <a className=\"Anchor\" href={`#${id}`} id={id} title=\"Link here\">\n      #\n    </a>\n  );\n}\n\nexport function Tabs({ routes }) {\n  return (\n    <ul className=\"Tabs\">\n      {routes.map(({ route, label, count }) => (\n        <li key={route}>\n          <NavLink activeClassName=\"is-active\" to={route}>\n            {label}\n            {!!count && <span className=\"Tab-count\">{count}</span>}\n          </NavLink>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","/**\n * Give out pretty date\n *\n * @param  {String|Date object} date Date as a string or Date object\n * @return {String}\n */\nexport function formatDate(date) {\n  if (!date) {\n    return date;\n  }\n\n  let dateString;\n\n  // Dates on CS exports are in format \"2007-01-11 22:29:44 UTC\"\n  if (typeof date !== 'object') {\n    dateString = date.replace(' UTC', '');\n  }\n\n  const formattedDate = new Date(dateString).toLocaleDateString(undefined, {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  });\n\n  return formattedDate && formattedDate !== 'Invalid Date'\n    ? formattedDate\n    : date;\n}\n\nexport const scrollToRef = ref =>\n  ref.current.scrollIntoView({\n    behavior: 'smooth',\n  });\n\n/**\n * Test if browser supports sessionStorage or localStorage\n *\n * From https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API\n *\n * @param  {[String]} type Either `sessionStorage` or `localStorage`\n * @return {[Boolean]}\n */\nexport function testStorage(type) {\n  var storage;\n  try {\n    storage = window[type];\n    var x = '__storage_test__';\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (e) {\n    return (\n      e instanceof DOMException &&\n      // everything except Firefox\n      (e.code === 22 ||\n        // Firefox\n        e.code === 1014 ||\n        // test name field too, because code might not be present\n        // everything except Firefox\n        e.name === 'QuotaExceededError' ||\n        // Firefox\n        e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n      // acknowledge QuotaExceededError only if there's something already stored\n      storage &&\n      storage.length !== 0\n    );\n  }\n}\n"],"sourceRoot":""}