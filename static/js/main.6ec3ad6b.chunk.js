(this.webpackJsonpcouchspinner=this.webpackJsonpcouchspinner||[]).push([[0],{100:function(e,t,n){e.exports=n.p+"static/media/trustroots-tree.19b96bca.svg"},105:function(e,t,n){e.exports=n(236)},110:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},234:function(e,t,n){},236:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(94),o=n.n(l),c=n(239),i=(n(110),n(15)),s=n.n(i),u=n(20),m=n(34),d=n(102),f=n(10),p=n(70),h=n.n(p),v=n(96),E=n.n(v),g=(n(120),n(33));n(121);function b(e){var t=e.children;return r.a.createElement("div",{className:"Section"},t)}function y(e){var t=e.children;return r.a.createElement("div",{className:"Section-heading"},t)}function w(e){return r.a.createElement("div",Object.assign({className:"Section-content"},e),e.children)}function _(e){var t=e.children||"Member";return e.id?r.a.createElement("a",Object.assign({},e,{href:"https://www.couchsurfing.com/users/".concat(e.id)}),e.id===e.userId?"You":t):r.a.createElement("span",e,t)}function N(e){var t,n=e.id,a=e.names,l=e.alt,o=e.append,c=!!a&&(null===(t=a.get(n))||void 0===t?void 0:t.displayName);return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,Object.assign({id:n},e),c||l),c&&o)}function S(e){var t=e.id;return r.a.createElement("a",{className:"Anchor",href:"#".concat(t),id:t,title:"Link here"},"#")}function I(e){var t=e.routes;return r.a.createElement("ul",{className:"Tabs"},t.map((function(e){var t=e.route,n=e.label,a=e.count;return r.a.createElement("li",{key:t},r.a.createElement(g.b,{activeClassName:"is-active",to:t},n,!!a&&r.a.createElement("span",{className:"Tab-count"},a)))})))}n(124);var k=Object(a.forwardRef)((function(e,t){e.isDragActive,e.input,e.aboutRef;return r.a.createElement("div",{className:"App-landing-section About",id:"about",ref:t},r.a.createElement("h1",null,"About"),r.a.createElement("div",{className:"About-FAQ"},r.a.createElement("h3",null,"Why CouchSpinner exists? ",r.a.createElement(S,{id:"why-couchspinner-exists"})),r.a.createElement("p",null,"CouchSurfing locked out a significant portion of their community by"," ",r.a.createElement("a",{href:"https://blog.couchsurfing.com/couchsurfing-needs-your-help/"},"turning into a paid site overnight")," ","on May 14, 2020."),r.a.createElement("p",null,"You can recover your data from CouchSurfing, but what can you do with it then?"),r.a.createElement("p",null,"With CouchSpinner, you can preview your profile, references, and messages again!"),r.a.createElement("h3",null,"How can I export my CouchSurfing profile?"," ",r.a.createElement(S,{id:"how-can-i-export-my-couchsurfing-profile"})),r.a.createElement("p",null,"If you can still access your profile,"," ",r.a.createElement("a",{href:"https://support.couchsurfing.org/hc/en-us/articles/360045738353-Download-your-data"},"follow these instructions to download your data"),"."),r.a.createElement("p",null,"If you cannot access your profile, you can ask for a copy of your data and to delete your account by contacting Couchsurfing Support at"," ",r.a.createElement("a",{href:"mailto:support@couchsurfing.com"},"support@couchsurfing.com")," ","or through"," ",r.a.createElement("a",{href:"mailto:privacy@couchsurfing.com"},"privacy@couchsurfing.com"),"."),r.a.createElement("h3",null,"Do you store my CouchSurfing profile?"," ",r.a.createElement(S,{id:"do-you-store-my-couchsurfing-profile"})),r.a.createElement("p",null,"Nope. Your profile is never uploaded to us \u2014 we never see it. Everything happens in your browser only. This is completely secure."),r.a.createElement("h3",null,"Who made this? ",r.a.createElement(S,{id:"who-made-this"})),r.a.createElement("p",null,"Folks behind"," ",r.a.createElement("a",{href:"https://www.trustroots.org/?ref=couchspinner"},"Trustroots.org"),", a free and community ran hospitality exchange site alternative to CouchSurfing."),r.a.createElement("p",null,"We built the functionality anyway for Trustroots and wanted to give it away for everyone."),r.a.createElement("p",null,"We'd love it if you would also join Trustroots, of course!"," ",r.a.createElement("span",{role:"img","aria-hidden":!0},"\ud83d\ude42")),r.a.createElement("h3",null,"What are other alternatives to CouchSurfing?"," ",r.a.createElement(S,{id:"couchsurfing-alternatives"})),r.a.createElement("p",null,"You could check"," ",r.a.createElement("a",{href:"https://www.trustroots.org/?ref=couchspinner"},"Trustroots"),","," ",r.a.createElement("a",{href:"https://www.bewelcome.org/"},"BeWelcome"),","," ",r.a.createElement("a",{href:"https://www.warmshowers.org/"},"Warmshowers")," and"," ",r.a.createElement("a",{href:"https://hackercouch.com/"},"Hackercouch"),"."),r.a.createElement("h3",null,"I see only some names, but not everyone?"),r.a.createElement("p",null,'Most of the Couchsurfing export doesn\'t contain names of other profiles, only user IDs. There are a few names available from "couch requests", which then we can show elsewhere too.'),r.a.createElement("h3",null,"Not all my data is here! ",r.a.createElement(S,{id:"not-all-my-data-is-here"})),r.a.createElement("p",null,'Could be! Please check the "raw" tab of your profile to browser what the file actually contains and what we are showing.'),r.a.createElement("p",null,"The preview doesn't show everything, but also the file from CouchSurfing could be only partial. They've elaborated that"," ",r.a.createElement("a",{href:"https://www.facebook.com/groups/253525915764545/?post_id=274543140329489&comment_id=274552816995188&reply_comment_id=274560876994382"},"some of the very old data might've been lost"),". You should reach out to CouchSurfing for any specifics, though."),r.a.createElement("h3",null,"Is this open-source? ",r.a.createElement(S,{id:"is-this-open-source"})),r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/simison/couchspinner"},"Yep!")," Feel free to help out.")))}));n(125);function x(e){if(!e)return e;var t;"object"!==typeof e&&(t=e.replace(" UTC",""));var n=new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return n&&"Invalid Date"!==n?n:e}var j=n(98),O=n.n(j),M=function(e){e.stopPropagation()};var T=function(e){var t=e.aboutRef;return r.a.createElement("div",{className:"App-landing-section Intro"},r.a.createElement("h1",null,"CouchSpinner"),r.a.createElement("h2",null,"Preview Couchsurfing profile exports"),r.a.createElement("img",{src:O.a,className:"Intro-logo",alt:"logo"}),r.a.createElement("div",{className:"Intro-instructions"},r.a.createElement("p",null,"Drop the export file here, or click to select it.")),r.a.createElement("p",null,r.a.createElement("a",{href:"#about",onClick:function(e){M(e),e.preventDefault(),t.current.scrollIntoView({behavior:"smooth"})}},"Read more"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("a",{className:"Intro-by-link",onClick:M,href:"https://www.trustroots.org/?ref=couchspinner"},"By Trustroots")))},C=n(6),F=(n(126),n(8)),P=n.n(F);n(127);var R=function(e){var t,n,a,l,o,c,i,s,u=e.user,m=e.interests;return r.a.createElement(b,null,r.a.createElement(y,null,"About me"),r.a.createElement(w,null,(null===u||void 0===u||null===(t=u.profile)||void 0===t?void 0:t.about_me)&&r.a.createElement("span",{dangerouslySetInnerHTML:{__html:P()(u.profile.about_me)}}),(null===u||void 0===u||null===(n=u.profile)||void 0===n?void 0:n.about_me)&&r.a.createElement("span",{dangerouslySetInnerHTML:{__html:P()(u.profile.about_me)}}),(null===u||void 0===u||null===(a=u.profile)||void 0===a?void 0:a.interests)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,"More about my interests")),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:P()(u.profile.interests)}}),(null===m||void 0===m?void 0:m.interests)&&r.a.createElement("ul",{className:"AboutMe-interests"},m.interests.map((function(e){return r.a.createElement("li",{key:e.name},e.name)})))),(null===u||void 0===u||null===(l=u.profile)||void 0===l?void 0:l.media)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,"My Favorite Music, Movies & Books")),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:P()(u.profile.media)}})),(null===u||void 0===u||null===(o=u.profile)||void 0===o?void 0:o.teach)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,"Teach, Learn, Share")),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:P()(u.profile.teach)}})),(null===u||void 0===u||null===(c=u.profile)||void 0===c?void 0:c.amazing_thing)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,"One Amazing Thing I've Done")),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:P()(u.profile.amazing_thing)}})),(null===u||void 0===u||null===(i=u.profile)||void 0===i?void 0:i.surf_reason)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,"Why I'm on Couchsurfing")),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:P()(u.profile.surf_reason)}})),(null===u||void 0===u||null===(s=u.profile)||void 0===s?void 0:s.offer_hosts)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,"What I Can Share With Hosts")),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:P()(u.profile.offer_hosts)}}))))};var D=function(e){var t=e.friends,n=e.names;return r.a.createElement(b,null,r.a.createElement(y,null,"Friends"),r.a.createElement(w,null,t.length?r.a.createElement("ul",null,t.map((function(e){var t=parseInt(e.profile.replace("https://www.couchsurfing.com/users/",""),10);return r.a.createElement("li",{key:t},r.a.createElement(N,{names:n,id:t,alt:e.profile.replace("https://www.","")}))}))):"No friends. :-("))};n(128);var A=function(e){var t=e.images;return r.a.createElement(b,null,r.a.createElement(y,null,"Images"),r.a.createElement(w,null,t.length?t.map((function(e){var t=e.id,n=e.blobUrl;return r.a.createElement("p",{key:t},r.a.createElement("a",{href:n,download:t},r.a.createElement("img",{src:n,alt:"",className:"Image"})))})):r.a.createElement("p",null,"You had no images... :-(")))};n(129);var L=function(e){var t=e.messages,n=e.userId,l=Object(a.useState)(!1),o=Object(u.a)(l,2),c=o[0],i=o[1];return r.a.createElement(b,null,r.a.createElement(y,null,"Messages"),r.a.createElement(w,null,t.length?t.map((function(e){var t;console.log(e);var a=e.user_ids_concatenated.split(",").filter((function(e){return e!==n})),l="".concat(null===e||void 0===e?void 0:e.user_ids_concatenated,"-").concat(null===e||void 0===e?void 0:e.created_at),o=!!e.messages.length,s=c===l,u=null===(t=e.messages.pop())||void 0===t?void 0:t.body;return r.a.createElement("div",{className:"Message",key:l},r.a.createElement("div",{className:"Message-meta"},a.map((function(e){return r.a.createElement(_,{id:e,key:e})})),(null===e||void 0===e?void 0:e.updated_at)&&r.a.createElement("span",{className:"Message-date"},x(e.updated_at))),o&&s&&r.a.createElement("div",{className:"Message-thread",dangerouslySetInnerHTML:{__html:P()(u)}}),o&&!s&&r.a.createElement(r.a.Fragment,null,u&&r.a.createElement("div",{className:"Message-preview",dangerouslySetInnerHTML:{__html:P()(u)}}),r.a.createElement("button",{className:"Message-read",onClick:i(l)},"Read all")),!o&&r.a.createElement("p",{className:"Message-thread"},"Empty message."))})):"No messages. :-("))},H=n(99),W=n.n(H);var J=function(e){var t=e.json;return r.a.createElement(b,null,r.a.createElement(y,null,"Raw profile export"),r.a.createElement(W.a,{data:t}))};n(234);function Y(e,t){return e&&0!==e.length?e.filter((function(e){return e.experience===t})).length:0}function z(e,t){switch(e){case"surf":return t?"To surfer":"From surfer";case"host":return t?"To host":"From host";default:return t?"To member":"From member"}}function U(e){return e.sort((function(e,t){var n=e.created_at,a=t.created_at;return n<a?-1:n>a?1:0}))}function B(e){var t=e.list,n=e.userId,a=e.names;return t.map((function(e){var t=e.body,l=e.created_at,o=e.creator_id,c=e.experience,i=e.recipient_id,s=e.reference_type,u=e.response_body,m=e.response_created_at,d=o===n,f=d?i:o;return r.a.createElement("div",{className:"Profile-reference",key:"".concat(o,"-").concat(i,"-").concat(l)},r.a.createElement("p",{className:"Profile-reference-meta"},d?z(s,d):r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{className:"Profile-reference-type",names:a,id:f,alt:z(s),append:r.a.createElement(r.a.Fragment,null,"host"===s&&"(host)","surf"===s&&"(surfer)")})),c&&r.a.createElement("strong",{className:"Profile-reference-experience Profile-reference-experience-".concat(c)},"positive"===c&&"\u2605 ",function(e){switch(e){case"positive":return"Positive";case"negative":return"Negative";case"neutral":return"Neutral";case"did_not_meet":return"Did not meet";default:return e}}(c)),l&&r.a.createElement("span",{className:"Profile-reference-date"},x(l))),t&&r.a.createElement("p",null,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:P()(t)}})),u&&r.a.createElement("div",{className:"Profile-reference-response"},r.a.createElement("p",null,r.a.createElement("strong",null,"Response"),m&&r.a.createElement("span",{className:"Profile-reference-date"}," ".concat(x(m)))),r.a.createElement("p",null,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:P()(u)}}))))}))}var Q=function(e){var t,n,a=e.references,l=e.userId,o=e.names,c=U(null!==(t=null===a||void 0===a?void 0:a.written_references)&&void 0!==t?t:[]),i=U(null!==(n=null===a||void 0===a?void 0:a.received_references)&&void 0!==n?n:[]);return r.a.createElement(g.a,null,r.a.createElement(b,null,r.a.createElement(y,null,"References"),r.a.createElement(w,null,r.a.createElement("p",null,c.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"".concat(c.length," written: ")),"".concat(Y(c,"positive")," positive, "),"".concat(Y(c,"neutral")," neutral, and "),"".concat(Y(c,"negative")," negative.")):"You didn't write references"),r.a.createElement("p",null,i.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"".concat(i.length," received: ")),"".concat(Y(i,"positive")," positive, "),"".concat(Y(i,"neutral")," neutral, and "),"".concat(Y(i,"negative")," negative.")):"You didn't receive references"),r.a.createElement(I,{routes:[{route:"/references",label:"Received references"},{route:"/references/written",label:"Written references"}]}),r.a.createElement(C.c,null,r.a.createElement(C.a,{exact:!0,path:"/references"},r.a.createElement("h3",null,"Received references"),r.a.createElement(B,{list:i,names:o,userId:l})),r.a.createElement(C.a,{path:"/references/written"},r.a.createElement("h3",null,"Written references"),r.a.createElement(B,{list:c,names:o,userId:l}))))))},q=n(100),V=n.n(q);var G=function(e){var t,n,a,l,o,c,i,s,u,m,d=e.fileDate,f=e.images,p=e.names,h=e.profile,v=h.user_data,E=h.interests,y=h.references,w=h.friends,N=h.messages,S=[{route:"/",label:"About me"},{route:"/references",label:"References",count:(null!==(t=null===y||void 0===y||null===(n=y.written_references)||void 0===n?void 0:n.length)&&void 0!==t?t:0)+(null!==(a=null===y||void 0===y||null===(l=y.received_references)||void 0===l?void 0:l.length)&&void 0!==a?a:0)},{route:"/friends",label:"Friends",count:null!==(o=null===w||void 0===w||null===(c=w.friends)||void 0===c?void 0:c.length)&&void 0!==o?o:0},{route:"/images",label:"Images",count:null!==(i=null===f||void 0===f?void 0:f.length)&&void 0!==i?i:0},{route:"/raw",label:"Raw"}];return r.a.createElement(g.a,null,r.a.createElement("div",{className:"Profile"},r.a.createElement("div",{className:"Profile-header"},r.a.createElement("p",null,r.a.createElement("em",null,r.a.createElement(_,{id:null===v||void 0===v?void 0:v.id},"Your Couchsurfing.com profile"),d&&" as of ".concat(x(d))),r.a.createElement("a",{href:"/",className:"Profile-clear",onClick:function(){return window.sessionStorage.clear()}},"Clear out the profile")),r.a.createElement("h1",null,(null===v||void 0===v||null===(s=v.profile)||void 0===s?void 0:s.first_name)&&"".concat(v.profile.first_name," "),(null===v||void 0===v||null===(u=v.profile)||void 0===u?void 0:u.last_name)&&"".concat(v.profile.last_name," "),(null===v||void 0===v?void 0:v.username)&&"(".concat(v.username,")")),(null===v||void 0===v||null===(m=v.profile)||void 0===m?void 0:m.occupation)&&r.a.createElement("h3",null,v.profile.occupation)),r.a.createElement(b,null,r.a.createElement(I,{routes:S})),r.a.createElement(C.c,null,r.a.createElement(C.a,{exact:!0,path:"/"},r.a.createElement(R,{user:v,interests:E})),r.a.createElement(C.a,{path:"/references"},r.a.createElement(Q,{names:p,references:y,userId:null===v||void 0===v?void 0:v.id})),r.a.createElement(C.a,{path:"/friends"},r.a.createElement(D,{names:p,friends:(null===w||void 0===w?void 0:w.friends)||[]})),r.a.createElement(C.a,{path:"/messages"},r.a.createElement(L,{messages:(null===N||void 0===N?void 0:N.messages)||[],userId:null===v||void 0===v?void 0:v.id})),r.a.createElement(C.a,{path:"/images"},r.a.createElement(A,{images:f})),r.a.createElement(C.a,{path:"/raw"},r.a.createElement(J,{json:h}))),r.a.createElement("div",{className:"promo"},r.a.createElement("a",{href:"https://www.trustroots.org/?ref=couchspinner",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:V.a,className:"tr-logo",alt:"Trustroots"}),r.a.createElement("br",null),"Join Trustroots.org",r.a.createElement("br",null),"Travellers hospitality community."))))};function K(e){return X.apply(this,arguments)}function X(){return(X=Object(m.a)(s.a.mark((function e(t){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.filter((function(e,t){return!t.dir&&"json"===t.name.split(".").pop()}))).length){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,t.file(n[0].name).async("string");case 5:return a=e.sent,e.prev=6,r=JSON.parse(a),e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(6),f.a(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[6,11]])})))).apply(this,arguments)}function Z(e){return $.apply(this,arguments)}function $(){return($=Object(m.a)(s.a.mark((function e(t){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filter((function(e,t){return!t.dir&&["jpg","gif","png"].includes(t.name.split(".").pop())})),a=n.map(function(){var e=Object(m.a)(s.a.mark((function e(n){var a,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.file(n.name).async("blob");case 2:return a=e.sent,r=window.URL||window.webkitURL,l=r.createObjectURL(a),e.abrupt("return",{blobUrl:l,id:n.name});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(a);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(m.a)(s.a.mark((function e(t){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.loadAsync(t);case 2:return n=e.sent,e.next=5,K(n);case 5:return a=e.sent,e.next=8,Z(n);case 8:return r=e.sent,e.abrupt("return",{images:r,json:a});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){var t,n,a=new Map,r=function(e){var t,n,r=(null===e||void 0===e?void 0:e.surfer)||(null===e||void 0===e?void 0:e.host)||{},l=null===r||void 0===r?void 0:r.username,o=null===r||void 0===r||null===(t=r.profile)||void 0===t?void 0:t.id,c=null===r||void 0===r||null===(n=r.profile)||void 0===n?void 0:n.display_name;a.set(o,{displayName:c,username:l})};return(null===e||void 0===e||null===(t=e.couch_visits)||void 0===t?void 0:t.host_couch_visits)&&e.couch_visits.host_couch_visits.forEach(r),(null===e||void 0===e||null===(n=e.couch_visits)||void 0===n?void 0:n.surfer_couch_visits)&&e.couch_visits.surfer_couch_visits.forEach(r),a}function ae(e,t){try{window.sessionStorage.setItem("".concat("couchspinner","_").concat(e),t)}catch(n){f.a(n),console.error("Saving ".concat(e," in cache failed:"),n)}}function re(e){return"function"===typeof e.text?e.text():new Promise((function(t,n){var a=new FileReader;a.onload=function(){t(a.result)},a.readAsText(e)}))}var le=function(){var e=function(e){var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(a){return a instanceof DOMException&&(22===a.code||1014===a.code||"QuotaExceededError"===a.name||"NS_ERROR_DOM_QUOTA_REACHED"===a.name)&&t&&0!==t.length}}("sessionStorage"),t=e?function(){var e,t,n,a;try{e=window.sessionStorage.getItem("".concat("couchspinner","_file_date")),n=JSON.parse(window.sessionStorage.getItem("".concat("couchspinner","_profile"))),a=JSON.parse(window.sessionStorage.getItem("".concat("couchspinner","_profile_images"))),n&&(t=ne(n))}catch(r){f.a(r),console.error(r)}return{cachedFileDate:e,cachedNames:t,cachedProfile:n,cachedProfileImages:a}}():{},n=t.cachedFileDate,l=t.cachedNames,o=t.cachedProfile,c=t.cachedProfileImages,i=Object(a.useState)(o||!1),p=Object(u.a)(i,2),v=p[0],E=p[1],g=Object(a.useState)(c||[]),b=Object(u.a)(g,2),y=b[0],w=b[1],_=Object(a.useState)(l||new Map),N=Object(u.a)(_,2),S=N[0],I=N[1],x=Object(a.useState)(n||!1),j=Object(u.a)(x,2),O=j[0],M=j[1],C=Object(a.useState)(!1),F=Object(u.a)(C,2),P=F[0],R=F[1],D=Object(a.createRef)();Object(a.useEffect)((function(){e&&(ae("file_date",O),ae("profile_images",JSON.stringify(y)),ae("profile",JSON.stringify(v)))}),[e,v,y,O]);var A=Object(a.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var n,a,r,l,o,c,i,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(!0),1===t.length){e.next=4;break}return R(!1),e.abrupt("return",alert("Just one file please."));case 4:if(n=t[0],["application/zip","application/json"].includes(n.type)){e.next=8;break}return R(!1),e.abrupt("return",alert('Please drop either the zip file or json file.\n\nE.g. "couchsurfing-export-123456-202005200751.zip", or "123456-202005200751.json"'));case 8:if(M(n.lastModifiedDate),"application/zip"!==n.type){e.next=21;break}return e.next=12,ee(n);case 12:a=e.sent,r=a.json,l=a.images,o=ne(r),E(r),I(o),w(l),e.next=26;break;case 21:if("application/json"!==n.type){e.next=26;break}return e.next=24,re(n);case 24:c=e.sent;try{i=JSON.parse(c),u=ne(i),E(i),I(u)}catch(s){f.a(s),console.error(s),alert("File is little too funky for us to understand...  \ud83d\ude25\n\nMake sure you uploaded correct export file (it should be .json or .zip file).\n\nIf problem persists, feel free to get in touch with Mikael (https://mikaelkorpela.fi/#contact).")}case 26:R(!1);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),L=Object(d.a)({onDrop:A}),H=L.getRootProps,W=L.getInputProps,J=L.isDragActive;return r.a.createElement("div",{className:h()("App",{"is-processing":P})},v?r.a.createElement(G,{fileDate:O,images:y,names:S,profile:v}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",Object.assign({className:h()("drop-container",{"is-dropping":J})},H()),r.a.createElement("input",W()),r.a.createElement(T,{aboutRef:D})),r.a.createElement(k,{ref:D})))};c.a({dsn:"https://dace55ddccfc480083c04f2a876322a3@o356100.ingest.sentry.io/5288459"}),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(le,null)),document.getElementById("root"))},98:function(e,t,n){e.exports=n.p+"static/media/sofa.ba454e2c.svg"}},[[105,1,2]]]);
//# sourceMappingURL=main.6ec3ad6b.chunk.js.map